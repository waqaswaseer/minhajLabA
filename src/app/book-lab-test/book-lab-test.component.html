<!-- <app-header></app-header> -->
<div id="wrapper" class="col-md-12 maindiv">
    <div class="panel-body col-md-6">
        <mat-toolbar>
            <h2>Place your Test Booking</h2>
            <span class="fill-remaining-space"></span>
            <!-- <button class="btn-dialog-close" mat-stroked-button (click)="onClick()" tabindex="-1">
                <mat-icon>clear</mat-icon>
            </button> -->
        </mat-toolbar>
        <form [formGroup]="BookLabTest" class="example-form" [style.fontSize.px]="14">
            <input formControlName="totalBill" type="text" placeholder="totalBill" matInput hidden>
            <div class="flex-1">
                <mat-form-field class="example-full-width">
                    <span matPrefix class="material-icons">account_circle &nbsp;</span>
                    <input formControlName="name" type="text" placeholder="Name" matInput required>
                    <mat-error>This field is mandatory.</mat-error>
                </mat-form-field>
            </div>
            <div class="flex-1">
                <mat-form-field class="example-full-width">
                    <span matPrefix class="material-icons">groups &nbsp;</span>
                    <input formControlName="age" type="text" maxlength="3" placeholder="age" matInput required>
                    <mat-error>This field is mandatory.</mat-error>
                </mat-form-field>
            </div>
            <div class="flex-1">
                <mat-form-field class="example-full-width">
                    <span matPrefix class="material-icons">phone &nbsp;</span>
                    <input formControlName="phoneNo" type="text" maxlength="11" placeholder="Phone No" matInput required>
                    <mat-error>This field is mandatory.</mat-error>
                </mat-form-field>
            </div>
            <div class="flex-1">
                <mat-form-field class="example-full-width">
                    <span matPrefix class="material-icons">place &nbsp;</span>
                    <input formControlName="address" type="text" placeholder="address" matInput required>
                    <mat-error>This field is mandatory.</mat-error>
                </mat-form-field>
            </div>
            <div class="row example-full-width">
                <mat-form-field class="mr-2 width-150px" appearance="fill">
                    <span matPrefix class="material-icons">biotech &nbsp;</span>
                    <input type="text" placeholder="Test" aria-label="Test" matInput [matAutocomplete]="auto" required>
                    <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn" (optionSelected)="testselecion($event)">
                        <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                            {{option.testname}}
                        </mat-option>
                    </mat-autocomplete>
                    <mat-error>This field is mandatory.</mat-error>
                </mat-form-field>

                <mat-form-field class="mt-2 pt-1">
                    <span matPrefix class="material-icons">monetization_on &nbsp;</span>
                    <input formControlName="rate" type="text" placeholder="Price" matInput readonly>
                </mat-form-field>
            </div>



            <div class="input-group">
                <mat-form-field class=" example-full-width ">
                    <span matPrefix class="material-icons">image &nbsp;</span>
                    <ngx-mat-file-input formControlName="Prescription" accept="image/* " placeholder="Upload Doctor Prescription">
                    </ngx-mat-file-input>
                </mat-form-field>

            </div>


            <div class="mr-2 ml-2 mt-3 input-group-append justify-content-center row ">
                <button class="btn btn-outline-danger " (click)="addtoBucket(BookLabTest) " [disabled]="BookLabTest.invalid ">ADD TO BUCKET</button>
            </div>



        </form>
    </div>
    <div class="panel-body col-md-4 ">
        <mat-toolbar>
            <h2>Your Cart</h2>
            <span class="fill-remaining-space "></span>
        </mat-toolbar>
        <form class="example-form form2" [style.fontSize.px]="14 ">
            <tr class="table">
                <th>Test Name</th>
                <th>Test Rate</th>
                <th>Total Bill</th>
            </tr>
            <tr *ngFor="let test of this.gservice.Bucket" class="table">
                <td>{{test.Test}}</td>
                <td>{{test.rate}}</td>
                <td>{{test.totalBill}}</td>
            </tr>
        </form>

        <div class="mr-2 ml-2 mt-3 input-group-append justify-content-center row ">
            <button class="btn btn-outline-success " (click)="onSubmit(BookLabTest) " [disabled]="BookLabTest.invalid ">Book Now</button>
        </div>
    </div>

</div>